!function(e,t){"use strict";t.utilites.namespace("cherryPopupsBackScripts"),t.cherryPopupsBackScripts={saveHandlerId:"cherry_save_options_ajax",setAsDefaultHandlerId:"cherry_set_as_default_options_ajax",resetHandlerId:"cherry_restore_options_ajax",saveButtonId:"#cherry-popups-save-options",resetButtonId:"#cherry-popups-restore-options",formId:"#cherry-popups-options-form",saveOptionsInstance:null,resetOptionsInstance:null,cherryHadlerInit:function(){e(document).on("CherryHandlerInit",this.init.bind(this))},init:function(){this.saveOptionsInstance=new t.CherryAjaxHandler({handlerId:this.saveHandlerId,successCallback:this.saveSuccessCallback.bind(this)}),this.resetOptionsInstance=new t.CherryAjaxHandler({handlerId:this.resetHandlerId,successCallback:this.restoreSuccessCallback.bind(this)}),this.addEvents()},addEvents:function(){e("body").on("click",this.saveButtonId,this.saveOptionsHandler.bind(this)).on("click",this.resetButtonId,this.resetOptionsHandler.bind(this))},saveOptionsHandler:function(e){this.disableButton(e.target),this.saveOptionsInstance.sendFormData(this.formId)},resetOptionsHandler:function(e){this.disableButton(e.target),this.resetOptionsInstance.send()},saveSuccessCallback:function(){this.enableButton(this.saveButtonId),t.cherryHandlerUtils.noticeCreate("success-notice",cherryPopupnSettings.save_message)},restoreSuccessCallback:function(){this.enableButton(this.resetButtonId),t.cherryHandlerUtils.noticeCreate("success-notice",cherryPopupnSettings.restore_message),setTimeout(function(){window.location.href=cherryPopupnSettings.redirect_url},500)},disableButton:function(t){e(t).attr("disabled","disabled")},enableButton:function(t){var s=null;e(t).removeAttr("disabled").addClass("success"),s=setTimeout(function(){e(t).removeClass("success"),clearTimeout(s)},1e3)}},t.cherryPopupsBackScripts.cherryHadlerInit()}(jQuery,window.CherryJsCore);